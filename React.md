# React & Redux #

this page about React and Redux

## `React`

`React` - это **библиотека** для создания пользовательских интерфейсов (**не фреймворк!**). React нужен для эффективной
отрисовки приложения, и для этого у него есть `**Virtual DOM**`. Virtual DOM сравнивается с DOM-ом браузера, и если он
находи различия - происходит замена узла, а не всей страницы.

## `Virtual DOM`

`Virtual DOM` - 'облегченный' DOM - это набор техник\алгоритмов, которые позволяют нам улучшить производительность,
избегая работы с DOM. Virtual DOM хранится в памяти компьютера и синхронизируется с настоящим DOM при помощи **React
DOM**.  
Процесс сравнения Virtual DOM c DOM называется **согласованием** (**reconciliation**).

## `Component`

`Component` - компонента - это функция, принимающая **props** и возвращающая **jsx** разметку. Состоите из двух частей:
верхняя (над return) и нижняя (внутри return).

## `Hooks`

`Хуки` - это функции, с помощью которых вы можете «подцепиться» к состоянию и методам жизненного цикла React из
функциональных компонентов. Хуки не работают внутри классов — они дают вам возможность использовать React без классов.  

`Правила хуков:`  
* использовать хуки можно только на верхнем уровне
* нельзя вызывать внутри циклов, условных операторов и вложенных функций
* используются только в функциональных компонентах  

### `Хуки:`   

* `useState` - хук состояния. Один аргумент - начальное состояние.
```JS
const [count, setCount] = useState(10)
```

* `useEffect` - дает возможность выполнить побочные эффекты в функциональных компонентах и перехватить изменения.

```JS
useEffect(() => {
    document.title = `Вы нажали ${count} раз`;
});

```

* `useContext` - позволяет подписывать на контекст React
* `useReducer` - позволяет управлять сложным состоянием компонентов
* `useCallback` - управление функциями обратного вызова
* `useMemo` - управление 'мемоизированными' значениями

## `Redux`

**`Redux`** - менеджер состояний - библиотека, предназначенная для управления состоянием приложения.

* используются для **средних** и **крупных** приложений
* можно и без него
* эффективное управление **state**
* **простым** приложениям он не нужен

### **`Использование:`**

`Action` - описывает действие (т.е. что будем делать) - объект, который имеет как минимум свойство **type**:

```typescript
const AddTaskAction: ExampleType = {
    type: 'ADD_TASK',
//    может быть что-то еще
    newText: 'Какая-то строка',
}
```  

`Action Creators` - создатель действия - это функции, которые создают действия. Могут принимать аргументы.

```typescript

```

```
    const AddTaskActionCreator = (newText: string):ExampleType => {
        return { type: 'ADD_TASK', newText}
}
```  

`Reducer` - это **чистая** функция, принимающая **state** и **action** и возвращающая преобразованную копию **state**.  
Обращаю внимание, что **reducer** - это _**чистая функция**_, а следовательно она _**детерминирована**_, _**
идемпотентна**_ и _**имутабельна**_.

```typescript
export const ExampleReducer = (state = initState, action: ActionType): ExampleTypeState => { // к нам приходит state и action
    switch (action.type) { // в каждом action сидит type. Их и смотрим
        case 'ADD_TASK':  // если type соотв. action.type
            return {...state, tasks: action.task} // это пример. Возвращает имзенененную копию state
        default: return state
    }
}
```  

`Store` - это объект-хранилище.  
* Содержит состояние приложения
* отображает их через **getState()**
* обновляется через **dispatch()**
* можно уведомлять через **subscriber()**  

`combineReducer` - возвращает "большую" функцию - метод, позволяющий нам создавать большой редюсер для всего состояния сразу, разбивая его на отдельные модули.



**Источники:**

* [`habr.com`](https://habr.com/ru/post/498860/)
* [`redux-ru.js.org`](https://redux-ru.js.org/#documentation)
* [`redux.js.org`](https://redux.js.org/introduction/getting-started)

